(()=>{"use strict";var e={71651:(e,t,n)=>{n(23792),n(3362),n(69085),n(9391);var r=n(4714),a=n(95976),s={class:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 text-white grid grid-rows-[auto,1fr]"};function o(e,t,n,r,o,i){var c=(0,a.g2)("AppHeader"),l=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(c),(0,a.bF)(l,{class:"p-4 lg:p-6 bg-gray-800 rounded-lg shadow-md w-full"})])}var i={class:"bg-gradient-to-r from-blue-600 to-purple-600 shadow-lg"},c={class:"hidden lg:grid grid-cols-[auto,1fr,auto] items-center px-6 py-4"},l={class:"flex items-center justify-center space-x-6"},u={class:"flex items-center space-x-4"},d={class:"lg:hidden flex items-center justify-between px-4 py-3"},f={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-80 z-50"},p={class:"w-64 bg-gradient-to-r from-indigo-700 via-purple-600 to-pink-600 h-full flex flex-col p-6"},h={class:"flex flex-col space-y-4"};function g(e,t,n,s,o,g){return(0,a.uX)(),(0,a.CE)("header",i,[(0,a.Lk)("div",c,[t[19]||(t[19]=(0,a.Lk)("div",{class:"flex items-center space-x-4"},[(0,a.Lk)("h1",{class:"text-red text-xl font-bold tracking-wide"},"Lyrical AI")],-1)),(0,a.Lk)("nav",l,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=function(){return g.navigateToHome&&g.navigateToHome.apply(g,arguments)}),class:"icon-button"},t[13]||(t[13]=[(0,a.Lk)("i",{class:"fas fa-home"},null,-1),(0,a.Lk)("span",null,"Home",-1)])),(0,a.Lk)("button",{onClick:t[1]||(t[1]=function(){return g.navigateToRecommendations&&g.navigateToRecommendations.apply(g,arguments)}),class:"icon-button"},t[14]||(t[14]=[(0,a.Lk)("i",{class:"fas fa-star"},null,-1),(0,a.Lk)("span",null,"Recommendations",-1)])),(0,a.Lk)("button",{onClick:t[2]||(t[2]=function(){return g.navigateToPlaylists&&g.navigateToPlaylists.apply(g,arguments)}),class:"icon-button"},t[15]||(t[15]=[(0,a.Lk)("i",{class:"fas fa-music"},null,-1),(0,a.Lk)("span",null,"Playlists",-1)])),(0,a.Lk)("button",{onClick:t[3]||(t[3]=function(){return g.navigateToSearch&&g.navigateToSearch.apply(g,arguments)}),class:"icon-button"},t[16]||(t[16]=[(0,a.Lk)("i",{class:"fas fa-search"},null,-1),(0,a.Lk)("span",null,"Search",-1)])),(0,a.Lk)("button",{onClick:t[4]||(t[4]=function(){return g.navigateToChat&&g.navigateToChat.apply(g,arguments)}),class:"icon-button"},t[17]||(t[17]=[(0,a.Lk)("i",{class:"fas fa-comments"},null,-1),(0,a.Lk)("span",null,"Chat",-1)]))]),(0,a.Lk)("div",u,[(0,a.Lk)("button",{onClick:t[5]||(t[5]=function(){return g.handleProfileClick&&g.handleProfileClick.apply(g,arguments)}),class:"flex items-center space-x-2 bg-white px-4 py-2 rounded-full shadow-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-400"},t[18]||(t[18]=[(0,a.Lk)("span",{class:"text-gray-700 font-medium hidden md:block"},"Welcome",-1)]))])]),(0,a.Lk)("div",d,[t[21]||(t[21]=(0,a.Lk)("div",{class:"flex items-center space-x-4"},[(0,a.Lk)("h1",{class:"text-white text-lg font-semibold tracking-wide"}," Lyrical AI ")],-1)),(0,a.Lk)("button",{onClick:t[6]||(t[6]=function(){return g.toggleSidebar&&g.toggleSidebar.apply(g,arguments)}),class:"text-white text-2xl focus:outline-none"},t[20]||(t[20]=[(0,a.Lk)("i",{class:"fas fa-bars"},null,-1)]))]),(0,a.bF)(r.eB,{name:"slide"},{default:(0,a.k6)((function(){return[o.showSidebar?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.Lk)("div",p,[(0,a.Lk)("button",{onClick:t[7]||(t[7]=function(){return g.toggleSidebar&&g.toggleSidebar.apply(g,arguments)}),class:"text-white self-end mb-6"},t[22]||(t[22]=[(0,a.Lk)("i",{class:"fas fa-times text-2xl"},null,-1)])),(0,a.Lk)("nav",h,[(0,a.Lk)("button",{onClick:t[8]||(t[8]=function(){return g.navigateToHome&&g.navigateToHome.apply(g,arguments)}),class:"icon-button"},t[23]||(t[23]=[(0,a.Lk)("i",{class:"fas fa-home"},null,-1),(0,a.Lk)("span",null,"Home",-1)])),(0,a.Lk)("button",{onClick:t[9]||(t[9]=function(){return g.navigateToRecommendations&&g.navigateToRecommendations.apply(g,arguments)}),class:"icon-button"},t[24]||(t[24]=[(0,a.Lk)("i",{class:"fas fa-star"},null,-1),(0,a.Lk)("span",null,"Recommendations",-1)])),(0,a.Lk)("button",{onClick:t[10]||(t[10]=function(){return g.navigateToPlaylists&&g.navigateToPlaylists.apply(g,arguments)}),class:"icon-button"},t[25]||(t[25]=[(0,a.Lk)("i",{class:"fas fa-music"},null,-1),(0,a.Lk)("span",null,"Playlists",-1)])),(0,a.Lk)("button",{onClick:t[11]||(t[11]=function(){return g.navigateToSearch&&g.navigateToSearch.apply(g,arguments)}),class:"icon-button"},t[26]||(t[26]=[(0,a.Lk)("i",{class:"fas fa-search"},null,-1),(0,a.Lk)("span",null,"Search",-1)])),(0,a.Lk)("button",{onClick:t[12]||(t[12]=function(){return g.navigateToChat&&g.navigateToChat.apply(g,arguments)}),class:"icon-button"},t[27]||(t[27]=[(0,a.Lk)("i",{class:"fas fa-comments"},null,-1),(0,a.Lk)("span",null,"Chat",-1)]))])])])):(0,a.Q3)("",!0)]})),_:1})])}n(44114);const m={data:function(){return{showSidebar:!1}},methods:{navigateToHome:function(){this.$router.push({name:"home"})},navigateToRecommendations:function(){this.$router.push({name:"recommendations"})},navigateToPlaylists:function(){this.$router.push({name:"song-playlists"})},navigateToSearch:function(){this.$router.push({name:"search"})},navigateToChat:function(){this.$router.push({name:"user-chat"})},handleProfileClick:function(){alert("Profile clicked!")},toggleSidebar:function(){this.showSidebar=!this.showSidebar}}};var v=n(1169);const y=(0,v.A)(m,[["render",g],["__scopeId","data-v-ab4faa40"]]),x=y,w={components:{AppHeader:x}},k=(0,v.A)(w,[["render",o],["__scopeId","data-v-3b82f35e"]]),b=k;var E=n(61466),L=n(698),S=(n(1688),n(23288),n(39053)),A=n(5204),C=(n(28706),{info:function(e){},warn:function(e){},error:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=console).error.apply(t,["[ERROR]: ".concat(e)].concat(r))},debug:function(e){}});const _=C;function R(e,t,n,r,s,o){var i=(0,a.g2)("SongRecommendations"),c=(0,a.g2)("DeviceSpecific"),l=(0,a.g2)("TrendingSongs"),u=(0,a.g2)("Visual3D");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(i),(0,a.bF)(c),(0,a.bF)(l),(0,a.bF)(u)])}var T=n(10160),P={class:"bg-gradient-to-r from-blue-500 via-teal-500 to-green-500 p-6 rounded-3xl shadow-2xl w-full max-w-lg mx-auto"},I={key:0},O={class:"space-y-6"},D={class:"text-lg text-white font-medium"},F={class:"text-sm text-gray-400"},X=["onClick"],j={key:1,class:"mt-8"},N={class:"space-y-6"},M={class:"text-lg text-white font-medium"},H={class:"text-sm text-gray-400"},$=["href"],z={key:2,class:"mt-8"},U={class:"space-y-6"},Q={class:"text-lg text-white font-medium"},G={class:"text-sm text-gray-400"},Y=["onClick"];function B(e,t,n,r,s,o){return(0,a.uX)(),(0,a.CE)("div",P,[t[3]||(t[3]=(0,a.Lk)("h2",{class:"text-2xl font-extrabold mb-6 text-yellow-400 text-center"}," Recommended For You ",-1)),s.recommendations.length?((0,a.uX)(),(0,a.CE)("div",I,[t[0]||(t[0]=(0,a.Lk)("h3",{class:"text-xl font-semibold text-white mb-4"}," Personalized & Spotify Recommendations ",-1)),(0,a.Lk)("ul",O,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.recommendations.personalizedAndSpotify,(function(e){return(0,a.uX)(),(0,a.CE)("li",{key:e.id,class:"flex items-center justify-between bg-gray-800 p-4 rounded-lg shadow-lg transform hover:scale-105 transition-all"},[(0,a.Lk)("div",null,[(0,a.Lk)("p",D,(0,T.v_)(e.title),1),(0,a.Lk)("p",F,(0,T.v_)(e.artist),1)]),(0,a.Lk)("button",{class:"bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-600 transition-colors",onClick:function(t){return o.playSong(e)}}," Play ",8,X)])})),128))])])):(0,a.Q3)("",!0),s.newReleases.length?((0,a.uX)(),(0,a.CE)("div",j,[t[1]||(t[1]=(0,a.Lk)("h3",{class:"text-xl font-semibold text-white mb-4"},"New Releases",-1)),(0,a.Lk)("ul",N,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.newReleases,(function(e){return(0,a.uX)(),(0,a.CE)("li",{key:e.id,class:"flex items-center justify-between bg-gray-800 p-4 rounded-lg shadow-lg transform hover:scale-105 transition-all"},[(0,a.Lk)("div",null,[(0,a.Lk)("p",M,(0,T.v_)(e.title),1),(0,a.Lk)("p",H,(0,T.v_)(e.artist),1)]),(0,a.Lk)("a",{href:e.url,class:"bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-600 transition-colors",target:"_blank"}," Listen on Spotify ",8,$)])})),128))])])):(0,a.Q3)("",!0),s.similarSongs.length?((0,a.uX)(),(0,a.CE)("div",z,[t[2]||(t[2]=(0,a.Lk)("h3",{class:"text-xl font-semibold text-white mb-4"},"Similar Songs",-1)),(0,a.Lk)("ul",U,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.similarSongs,(function(e){return(0,a.uX)(),(0,a.CE)("li",{key:e.id,class:"flex items-center justify-between bg-gray-800 p-4 rounded-lg shadow-lg transform hover:scale-105 transition-all"},[(0,a.Lk)("div",null,[(0,a.Lk)("p",Q,(0,T.v_)(e.title),1),(0,a.Lk)("p",G,(0,T.v_)(e.artist),1)]),(0,a.Lk)("button",{class:"bg-yellow-500 text-black py-2 px-4 rounded-md hover:bg-yellow-600 transition-colors",onClick:function(t){return o.playSong(e)}}," Play ",8,Y)])})),128))])])):(0,a.Q3)("",!0)])}var J=n(55155);n(62062),n(62010),n(81454);const W={data:function(){return{recommendations:{personalizedAndSpotify:[]},newReleases:[],similarSongs:[],platform:null}},created:function(){this.platform=localStorage.getItem("platform"),this.fetchRecommendations(),this.fetchNewReleases(),this.fetchSimilarSongs()},methods:{fetchRecommendations:function(){var e=this;return(0,L.A)((0,E.A)().mark((function t(){var n,r;return(0,E.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.platform){t.next=4;break}return _.error("Platform not found in localStorage."),t.abrupt("return");case 4:return t.next=6,e.$axios.get("http://localhost:8000/recommend/combined/".concat(e.platform));case 6:n=t.sent,r=e.transformRecommendations(n.data),e.recommendations.personalizedAndSpotify=r,_.info("Fetched personalized and Spotify recommendations successfully."),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),_.error("Error fetching recommendations:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},fetchNewReleases:function(){var e=this;return(0,L.A)((0,E.A)().mark((function t(){var n;return(0,E.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get("http://localhost:8000/recommend/new_releases/");case 3:n=t.sent,e.newReleases=n.data.recommendations.map((function(e,t){return{id:t,title:e.name,artist:e.artist,url:e.url}})),_.info("Fetched new releases successfully."),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),_.error("Error fetching new releases:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},fetchSimilarSongs:function(){var e=this;return(0,L.A)((0,E.A)().mark((function t(){var n,r;return(0,E.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n="example_song",t.next=4,e.$axios.get("http://localhost:8000/recommend/similar_songs/".concat(n));case 4:r=t.sent,e.similarSongs=r.data.map((function(e,t){return{id:t,title:e.song,artist:"Similar Artist"}})),_.info("Fetched similar songs successfully."),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),_.error("Error fetching similar songs:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},transformRecommendations:function(e){var t=e.personalized_recommendations.map((function(e,t){return{id:t,title:e,artist:"Personalized"}})),n=e.spotify_recommendations.map((function(e,t){return{id:"spotify-".concat(t),title:e.name,artist:e.artist}}));return[].concat((0,J.A)(t),(0,J.A)(n))},playSong:function(e){_.info("Playing: ".concat(e.title," by ").concat(e.artist))}}},q=(0,v.A)(W,[["render",B],["__scopeId","data-v-6d58b244"]]),K=q;var V={class:"bg-gray-800 p-4 rounded-md shadow-md mt-4"},Z={key:0,class:"flex justify-center items-center space-x-2"},ee={key:1},te={class:"text-white"},ne={class:"font-bold text-green-500"},re={key:2,class:"mt-4 text-red-500"};function ae(e,t,n,r,s,o){return(0,a.uX)(),(0,a.CE)("div",V,[t[4]||(t[4]=(0,a.Lk)("h2",{class:"text-lg font-bold mb-2 text-red-500"},"Device Detection",-1)),s.isLoading?((0,a.uX)(),(0,a.CE)("div",Z,t[0]||(t[0]=[(0,a.Lk)("span",{class:"text-white"},"Detecting device...",-1),(0,a.Lk)("svg",{class:"animate-spin h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,a.Lk)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.Lk)("path",{d:"M22 12a10 10 0 1 1-10 10"})],-1)]))):((0,a.uX)(),(0,a.CE)("div",ee,[(0,a.Lk)("p",te,[t[1]||(t[1]=(0,a.eW)(" Your device has been detected as: ")),(0,a.Lk)("span",ne,(0,T.v_)(s.platform),1)]),t[2]||(t[2]=(0,a.Lk)("p",{class:"text-sm text-gray-400 mt-2"}," The device type has been saved to local storage and registered with the API. ",-1))])),s.error?((0,a.uX)(),(0,a.CE)("div",re,t[3]||(t[3]=[(0,a.Lk)("span",null,"Error detecting device or registering data. Please try again later.",-1)]))):(0,a.Q3)("",!0)])}n(27495),n(90906);const se={data:function(){return{platform:"",isLoading:!0,error:!1}},created:function(){this.detectDevice()},methods:{detectDevice:function(){var e=this;return(0,L.A)((0,E.A)().mark((function t(){var n,r;return(0,E.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=navigator.userAgent.toLowerCase(),r="Unknown Device",r=/mobile/i.test(n)?"Mobile":/tablet/i.test(n)?"Tablet":"Desktop",localStorage.setItem("platform",r),e.platform=r,_.info("Detected device: ".concat(r)),t.next=9,e.registerUser(r);case 9:t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),_.error("Error detecting device or registering user: ".concat(t.t0)),e.error=!0;case 15:return t.prev=15,e.isLoading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,11,15,18]])})))()},registerUser:function(e){var t=this;return(0,L.A)((0,E.A)().mark((function n(){var r,a;return(0,E.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A.A.post("https://localhost:8000/user/register",{phone_model:e,name:"Guest User"});case 3:r=n.sent,_.info("User registered successfully: ".concat(r.data.message)),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](0),_.error("Error registering user: ".concat((null===(a=n.t0.response)||void 0===a?void 0:a.data)||n.t0)),t.error=!0;case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}},oe=(0,v.A)(se,[["render",ae],["__scopeId","data-v-2f3906d2"]]),ie=oe;var ce={class:"bg-gray-800 p-4 rounded-md shadow-lg mt-4"},le={key:0,class:"flex justify-center items-center space-x-2"},ue={key:1,class:"space-y-4 mt-4"},de={class:"text-white font-medium"},fe={key:0,class:"text-sm text-gray-400"},pe={class:"flex space-x-2"},he=["onClick"],ge=["onClick"],me={key:2,class:"mt-4 text-red-500"};function ve(e,t,n,r,s,o){return(0,a.uX)(),(0,a.CE)("div",ce,[t[2]||(t[2]=(0,a.Lk)("h2",{class:"text-xl font-semibold mb-4 text-red-500"},"Trending Songs",-1)),s.isLoading?((0,a.uX)(),(0,a.CE)("div",le,t[0]||(t[0]=[(0,a.Lk)("span",{class:"text-white"},"Loading...",-1),(0,a.Lk)("svg",{class:"animate-spin h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,a.Lk)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.Lk)("path",{d:"M22 12a10 10 0 1 1-10 10"})],-1)]))):((0,a.uX)(),(0,a.CE)("ul",ue,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.trendingSongs,(function(e){return(0,a.uX)(),(0,a.CE)("li",{key:e.id,class:"flex items-center justify-between bg-gray-700 p-3 rounded-md shadow-md hover:bg-gray-600 transition-colors"},[(0,a.Lk)("div",null,[(0,a.Lk)("span",de,(0,T.v_)(e.name)+" - "+(0,T.v_)(e.artist),1),e.genre?((0,a.uX)(),(0,a.CE)("div",fe,(0,T.v_)(e.genre),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",pe,[(0,a.Lk)("button",{onClick:function(t){return o.playSong(e)},class:"bg-red-500 text-white py-1 px-3 rounded-md hover:bg-red-600 transition-all"}," Play ",8,he),(0,a.Lk)("button",{onClick:function(t){return o.showSongInfo(e)},class:"bg-transparent text-white py-1 px-3 border border-white rounded-md hover:bg-gray-600 transition-all"}," More Info ",8,ge)])])})),128))])),s.error?((0,a.uX)(),(0,a.CE)("div",me,t[1]||(t[1]=[(0,a.Lk)("span",null,"Error loading trending songs. Please try again later.",-1)]))):(0,a.Q3)("",!0)])}n(76918),n(26099),n(38781);const ye={data:function(){return{trendingSongs:[],isLoading:!0,error:!1}},methods:{fetchTrendingSongs:function(){var e=this;return(0,L.A)((0,E.A)().mark((function t(){var n,r;return(0,E.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,e.error=!1,t.prev=2,t.next=5,fetch("https://localhost:8000/recommend/trending?top_n=10");case 5:return n=t.sent,t.next=8,n.json();case 8:r=t.sent,e.trendingSongs=r.map((function(e,t){return{id:t+1,name:e.name,artist:e.artist,genre:e.genre||"Unknown"}})),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](2),e.error=!0,e.logError("Error fetching trending songs",t.t0);case 16:return t.prev=16,e.isLoading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[2,12,16,19]])})))()},playSong:function(e){alert("Now playing: ".concat(e.name," by ").concat(e.artist))},showSongInfo:function(e){alert("More info about: ".concat(e.name," by ").concat(e.artist))},logError:function(e,t){this.$axios.post("https://localhost:8000/log/error",{message:e,error:t.toString(),timestamp:(new Date).toISOString()})["catch"]((function(e){_.error("Failed to log error:",e)}))}},mounted:function(){this.fetchTrendingSongs()}},xe=(0,v.A)(ye,[["render",ve],["__scopeId","data-v-548c66c0"]]),we=xe;var ke={ref:"canvasContainer",class:"w-full h-96 bg-black"};function be(e,t,n,r,s,o){return(0,a.uX)(),(0,a.CE)("div",ke,null,512)}n(51629);var Ee=n(40722),Le=n(61302),Se=n(61517),Ae=(0,Se.A)();const Ce={mounted:function(){var e=this,t=this.$refs.canvasContainer;if(t.clientWidth&&t.clientHeight){var n=new Ee.Z58,r=new Ee.ubm(75,t.clientWidth/t.clientHeight,.1,8e3),a=new Le.JeP({antialias:!0});a.setSize(t.clientWidth,t.clientHeight),a.setPixelRatio(window.devicePixelRatio),t.appendChild(a.domElement);var s=new Ee.Gu$(2,64,64),o=new Ee._4j({color:65280,emissive:65280,emissiveIntensity:.5,wireframe:!0}),i=new Ee.eaF(s,o);n.add(i);var c=new Ee.O3Y(2.5,.1,16,100),l=new Ee.V9B({color:65535,wireframe:!0}),u=new Ee.eaF(c,l);n.add(u);for(var d=new Ee.V9B({color:16773120}),f=new Ee.Ufg(.1),p=[],h=0;h<10;h++){var g=new Ee.eaF(f,d);g.position.set(6*Math.random()-3,3*Math.random()+1,6*Math.random()-3),n.add(g),p.push(g)}var m=new Ee.$p8(16777215,.6),v=new Ee.HiM(16777215,1,100);v.position.set(5,5,5),n.add(m,v),r.position.z=5;var y=function(){var n=t.clientWidth,s=t.clientHeight;if(n>0&&s>0)r.aspect=n/s,r.updateProjectionMatrix(),a.setSize(n,s);else{var o="Invalid canvas dimensions during resize event.";e.logError(o)}};window.addEventListener("resize",y);var x=function(){requestAnimationFrame(x),i.rotation.x+=.01,i.rotation.y+=.01,u.rotation.x+=.02,u.rotation.y+=.02,p.forEach((function(e){e.position.y+=.05*Math.sin(.3*e.position.x),e.position.x+=.02,e.position.x>3&&(e.position.x=-3)})),a.render(n,r)};x(),Ae.on("cleanup",(function(){window.removeEventListener("resize",y),a.dispose()}))}else{var w="Canvas container has zero dimensions.";this.logError(w)}},beforeUnmount:function(){Ae.emit("cleanup")},methods:{logError:function(e){this.$axios.post("http://localhost:8000/log/error",{message:e,timestamp:(new Date).toISOString()})["catch"]((function(e){_.error("Failed to log error:",e)}))}}},_e=(0,v.A)(Ce,[["render",be],["__scopeId","data-v-7cab8ead"]]),Re=_e,Te={components:{SongRecommendations:K,DeviceSpecific:ie,TrendingSongs:we,Visual3D:Re}},Pe=(0,v.A)(Te,[["render",R]]),Ie=Pe;function Oe(e,t,n,r,s,o){var i=(0,a.g2)("Recommendations");return(0,a.uX)(),(0,a.CE)("div",null,[t[0]||(t[0]=(0,a.Lk)("h1",{class:"text-2xl font-bold mb-4 text-red-500"},"Your Recommendations",-1)),(0,a.bF)(i)])}const De={components:{Recommendations:K}},Fe=(0,v.A)(De,[["render",Oe]]),Xe=Fe;function je(e,t,n,r,s,o){var i=(0,a.g2)("SongPlaylist");return(0,a.uX)(),(0,a.CE)("div",null,[t[0]||(t[0]=(0,a.Lk)("h1",{class:"text-2xl font-bold mb-4 text-red-500"},"Your Playlists",-1)),(0,a.bF)(i)])}var Ne={class:"bg-gradient-to-r from-blue-500 via-teal-500 to-green-500 p-6 rounded-3xl shadow-2xl w-full max-w-lg mx-auto"},Me={class:"bg-gray-800 p-6 rounded-xl shadow-2xl transform transition-all hover:scale-105 hover:rotate-3d"},He={key:0,class:"flex justify-center items-center space-x-2"},$e={key:1,class:"space-y-6"},ze={class:"flex flex-col justify-between w-3/4"},Ue={class:"text-white text-xl font-semibold"},Qe={class:"text-gray-400 text-sm"},Ge=["onClick"],Ye={key:2,class:"text-white text-center text-lg"},Be={key:3,class:"mt-6 text-red-500 text-center"},Je={ref:"canvasContainer",class:"w-full h-72 mt-6 bg-black rounded-3xl shadow-2xl"};function We(e,t,n,s,o,i){return(0,a.uX)(),(0,a.CE)("div",Ne,[(0,a.Lk)("div",Me,[t[3]||(t[3]=(0,a.Lk)("h2",{class:"text-2xl font-extrabold mb-6 text-red-500 text-center"}," Your Playlists ",-1)),o.isLoading?((0,a.uX)(),(0,a.CE)("div",He,t[2]||(t[2]=[(0,a.Lk)("span",{class:"text-white text-lg"},"Loading Playlists...",-1),(0,a.Lk)("svg",{class:"animate-spin h-6 w-6 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,a.Lk)("circle",{cx:"12",cy:"12",r:"10"}),(0,a.Lk)("path",{d:"M22 12a10 10 0 1 1-10 10"})],-1)]))):o.playlists.length>0?((0,a.uX)(),(0,a.CE)("ul",$e,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.playlists,(function(e){return(0,a.uX)(),(0,a.CE)("li",{key:e.id,class:"flex justify-between bg-gray-700 p-5 rounded-xl shadow-xl transform hover:scale-105 transition-all"},[(0,a.Lk)("div",ze,[(0,a.Lk)("span",Ue,(0,T.v_)(e.name),1),(0,a.Lk)("span",Qe,(0,T.v_)(e.song_count)+" songs",1)]),(0,a.Lk)("button",{onClick:function(t){return i.viewPlaylist(e)},class:"bg-red-500 text-white py-2 px-4 rounded-md hover:bg-red-600 focus:ring-4 focus:ring-red-300 transition-all"}," View ",8,Ge)])})),128))])):((0,a.uX)(),(0,a.CE)("p",Ye," No playlists found. Create a new one! ")),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.newPlaylistName=e}),placeholder:"Create a new playlist",class:"w-full p-3 mt-6 rounded-md bg-gray-700 text-white placeholder-gray-400 focus:outline-none",onKeyup:t[1]||(t[1]=(0,r.jR)((function(){return i.createPlaylist&&i.createPlaylist.apply(i,arguments)}),["enter"]))},null,544),[[r.Jo,o.newPlaylistName]]),o.error?((0,a.uX)(),(0,a.CE)("div",Be,[(0,a.Lk)("span",null,(0,T.v_)(o.errorMessage),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Je,null,512)])}n(42762);const qe={data:function(){return{playlists:[],newPlaylistName:"",isLoading:!0,error:!1,errorMessage:""}},methods:{fetchPlaylists:function(){var e=this;return(0,L.A)((0,E.A)().mark((function t(){var n;return(0,E.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,e.error=!1,t.prev=2,t.next=5,A.A.get("/user/playlists");case 5:n=t.sent,e.playlists=n.data.playlists,_.info("Playlists fetched successfully"),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](2),e.error=!0,e.errorMessage="Error fetching playlists. Please try again later.",_.error("Error fetching playlists:",t.t0);case 15:return t.prev=15,e.isLoading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,10,15,18]])})))()},createPlaylist:function(){var e=this;return(0,L.A)((0,E.A)().mark((function t(){var n;return(0,E.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.newPlaylistName.trim()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,A.A.post("/user/create_playlist",{name:e.newPlaylistName});case 5:n=t.sent,e.playlists.push(n.data.playlist),e.newPlaylistName="",_.info("Playlist '".concat(e.newPlaylistName,"' created successfully")),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),_.error("Error creating playlist:",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()},viewPlaylist:function(e){_.info("Viewing playlist:",e)},setup3DArt:function(){var e=this.$refs.canvasContainer;if(e.clientWidth&&e.clientHeight){var t=new Ee.Z58,n=new Ee.ubm(75,e.clientWidth/e.clientHeight,.1,8e3),r=new Le.JeP({antialias:!0});r.setSize(e.clientWidth,e.clientHeight),e.appendChild(r.domElement);var a=new Ee.qFE(1,3,5),s=new Ee.V9B({color:16776960,wireframe:!0}),o=new Ee.eaF(a,s);o.rotation.x=Math.PI/4,t.add(o);var i=new Ee.HiM(65280,1,100);i.position.set(5,5,5),t.add(i),n.position.z=6;var c=function(){requestAnimationFrame(c),o.rotation.y+=.01,r.render(t,n)};c()}else _.error("Canvas container has zero dimensions.")}},mounted:function(){this.fetchPlaylists(),this.setup3DArt()}},Ke=(0,v.A)(qe,[["render",We],["__scopeId","data-v-ee396df4"]]),Ve=Ke,Ze={components:{SongPlaylist:Ve}},et=(0,v.A)(Ze,[["render",je]]),tt=et;function nt(e,t,n,r,s,o){var i=(0,a.g2)("SearchBar");return(0,a.uX)(),(0,a.CE)("div",null,[t[0]||(t[0]=(0,a.Lk)("h1",{class:"text-2xl font-bold mb-4 text-red-500"},"Search",-1)),(0,a.bF)(i)])}var rt={class:"search-section py-6 px-4 bg-gray-900 rounded-lg shadow-lg relative"},at={class:"relative flex items-center justify-center"},st={key:0,class:"absolute z-10 bg-black text-white shadow-lg w-full mt-1 rounded-lg overflow-hidden border border-yellow-500"},ot=["onClick"],it={key:1,class:"absolute z-10 bg-black text-white shadow-lg w-full mt-1 rounded-lg overflow-hidden border border-yellow-500"},ct=["onClick"],lt={ref:"canvasContainer",class:"absolute top-0 left-0 w-full h-full"};function ut(e,t,n,s,o,i){return(0,a.uX)(),(0,a.CE)("div",rt,[t[5]||(t[5]=(0,a.Lk)("h2",{class:"text-3xl font-bold mb-6 text-yellow-500 text-center"}," Search for Music ",-1)),(0,a.Lk)("div",at,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.searchQuery=e}),type:"text",placeholder:"Search for songs, playlists, or artists...",class:"w-80 px-4 py-3 bg-black text-white border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onInput:t[1]||(t[1]=function(){return i.fetchSuggestions&&i.fetchSuggestions.apply(i,arguments)}),onFocus:t[2]||(t[2]=function(e){return o.showHistory=!0}),onBlur:t[3]||(t[3]=function(){return i.hideHistory&&i.hideHistory.apply(i,arguments)})},null,544),[[r.Jo,o.searchQuery]]),o.suggestions.length&&o.searchQuery?((0,a.uX)(),(0,a.CE)("ul",st,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.suggestions,(function(e,t){return(0,a.uX)(),(0,a.CE)("li",{key:t,class:"px-4 py-2 hover:bg-yellow-500 cursor-pointer",onClick:function(t){return i.selectSuggestion(e)}},(0,T.v_)(e),9,ot)})),128))])):(0,a.Q3)("",!0),o.showHistory&&!o.searchQuery&&o.searchHistory.length?((0,a.uX)(),(0,a.CE)("ul",it,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.searchHistory,(function(e,t){return(0,a.uX)(),(0,a.CE)("li",{key:t,class:"px-4 py-2 hover:bg-yellow-500 cursor-pointer",onClick:function(t){return i.selectSuggestion(e)}},(0,T.v_)(e),9,ct)})),128))])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",lt,t[4]||(t[4]=[(0,a.Lk)("canvas",{id:"search-canvas"},null,-1)]),512)])}n(76031);var dt=(0,Se.A)();const ft={name:"SearchSection",data:function(){return{searchQuery:"",suggestions:[],searchHistory:["Top 100 Songs","Classical Hits","Lo-fi Beats"],showHistory:!1}},methods:{fetchSuggestions:function(){""!==this.searchQuery.trim()?(dt.emit("search",this.searchQuery),_.info("Fetching suggestions for query: ".concat(this.searchQuery))):this.suggestions=[]},selectSuggestion:function(e){this.searchQuery=e,this.suggestions=[],this.showHistory=!1,_.info("Selected suggestion: ".concat(e))},hideHistory:function(){var e=this;setTimeout((function(){return e.showHistory=!1}),200)}},mounted:function(){var e=this;dt.on("search",(function(t){_.info("Search initiated for query: ".concat(t)),e.$axios.get("http://localhost:8000/search/?query=".concat(t)).then((function(t){e.suggestions=[].concat((0,J.A)(t.data.songs),(0,J.A)(t.data.artists),(0,J.A)(t.data.albums)),_.info("Fetched ".concat(t.data.songs.length," songs, ").concat(t.data.artists.length," artists, ").concat(t.data.albums.length," albums"))}))["catch"]((function(e){_.error('Error fetching search results for query "'.concat(t,'": ').concat(e))}))}));var t=document.getElementById("search-canvas"),n=this.$refs.canvasContainer;if(n&&t){var r=new Ee.Z58,a=new Ee.ubm(75,n.clientWidth/n.clientHeight,.1,8e3),s=new Le.JeP({canvas:t,antialias:!0});s.setSize(n.clientWidth,n.clientHeight),s.setPixelRatio(window.devicePixelRatio),r.background=new Ee.Q1f(1710618);var o=new Ee.Gu$(2,64,64),i=new Ee._4j({color:16737095,emissive:16737095,emissiveIntensity:.7,wireframe:!0}),c=new Ee.eaF(o,i);r.add(c),a.position.z=5;var l=function(){requestAnimationFrame(l),c.rotation.x+=.01,c.rotation.y+=.01,s.render(r,a)};l(),this.$once("hook:beforeDestroy",(function(){dt.off("search")}))}else _.error("Error initializing 3D canvas")}},pt=(0,v.A)(ft,[["render",ut],["__scopeId","data-v-6fcffce4"]]),ht=pt,gt={components:{SearchBar:ht}},mt=(0,v.A)(gt,[["render",nt]]),vt=mt;var yt={class:"min-h-screen bg-gray-900 text-white p-6 flex flex-col items-center"},xt={class:"w-full max-w-2xl"};function wt(e,t,n,r,s,o){var i=(0,a.g2)("UserChat");return(0,a.uX)(),(0,a.CE)("div",yt,[(0,a.Lk)("div",xt,[(0,a.bF)(i)])])}var kt={class:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 p-4"},bt={class:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 p-4 sm:p-6 rounded-3xl shadow-2xl w-full max-w-md md:max-w-lg"},Et={class:"bg-gray-800 p-4 sm:p-6 rounded-xl shadow-inner"},Lt={class:"overflow-y-auto h-72 sm:h-96 bg-gray-900 p-4 rounded-xl space-y-4 scrollbar-thin scrollbar-thumb-indigo-500 scrollbar-track-gray-700"},St={class:"text-sm"},At={class:"flex items-center mt-4 space-x-2"};function Ct(e,t,n,s,o,i){return(0,a.uX)(),(0,a.CE)("div",kt,[(0,a.Lk)("div",bt,[(0,a.Lk)("div",Et,[t[3]||(t[3]=(0,a.Fv)('<div class="flex items-center justify-between mb-4" data-v-9708b6a2><h2 class="text-xl font-bold text-white" data-v-9708b6a2>🎵 Lyrical AI Chat</h2><div class="flex items-center space-x-2" data-v-9708b6a2><span class="text-gray-400 text-sm" data-v-9708b6a2>Connected</span><div class="w-3 h-3 rounded-full bg-green-400 animate-pulse" data-v-9708b6a2></div></div></div>',1)),(0,a.Lk)("div",Lt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.messages,(function(e,t){return(0,a.uX)(),(0,a.CE)("div",{key:t,class:(0,T.C4)(["flex items-start",{"justify-end":"User"===e.sender}])},[(0,a.Lk)("div",{class:(0,T.C4)(["User"===e.sender?"bg-indigo-600 text-white":"bg-gray-700 text-white","p-3 rounded-xl shadow-xl max-w-xs"])},[(0,a.Lk)("p",St,(0,T.v_)(e.text),1)],2)],2)})),128))]),(0,a.Lk)("div",At,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.userInput=e}),onKeyup:t[1]||(t[1]=(0,r.jR)((function(){return i.sendMessage&&i.sendMessage.apply(i,arguments)}),["enter"])),placeholder:"Type your message...",class:"flex-1 p-3 text-lg rounded-full bg-gray-800 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500"},null,544),[[r.Jo,o.userInput]]),(0,a.Lk)("button",{onClick:t[2]||(t[2]=function(){return i.sendMessage&&i.sendMessage.apply(i,arguments)}),class:"bg-gradient-to-r from-blue-500 to-teal-500 text-white px-4 py-2 rounded-full shadow-md hover:scale-105 transform transition-transform"}," Send ")])]),t[4]||(t[4]=(0,a.Lk)("div",{class:"absolute top-4 left-4 md:top-8 md:left-8 animate-pulse text-white opacity-70"}," 🎶 ",-1)),t[5]||(t[5]=(0,a.Lk)("div",{class:"absolute bottom-4 right-4 md:bottom-8 md:right-8 animate-pulse text-white opacity-70"}," 🎵 ",-1))])])}n(16280),n(60739),n(33110);const _t={data:function(){return{messages:[],userInput:"",platform:""}},created:function(){this.platform=localStorage.getItem("platform")||"Unknown Device"},methods:{sendMessage:function(){""!==this.userInput.trim()&&(this.messages.push({sender:"User",text:this.userInput}),this.getResponse(this.userInput),this.userInput="")},getResponse:function(e){var t=this;return(0,L.A)((0,E.A)().mark((function n(){var r,a;return(0,E.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("http://localhost:8000/chat/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,platform:t.platform,top_n:5})});case 3:if(r=n.sent,r.ok){n.next=6;break}throw new Error("Network response was not ok");case 6:return n.next=8,r.json();case 8:a=n.sent,t.messages.push({sender:"Lyrical AI",text:a.reply||"No response from AI"}),n.next=17;break;case 12:n.prev=12,n.t0=n["catch"](0),t.$logger.error("Error fetching chat response:",n.t0),t.logError("Error fetching chat response",n.t0),t.messages.push({sender:"Lyrical AI",text:"Error fetching response"});case 17:case"end":return n.stop()}}),n,null,[[0,12]])})))()},logError:function(e,t){var n=this;this.$axios.post("http://localhost:8000/log/error",{message:e,error:t.toString(),timestamp:(new Date).toISOString()})["catch"]((function(e){n.$logger.error("Failed to log error:",e)}))}}},Rt=(0,v.A)(_t,[["render",Ct],["__scopeId","data-v-9708b6a2"]]),Tt=Rt,Pt={components:{UserChat:Tt}},It=(0,v.A)(Pt,[["render",wt],["__scopeId","data-v-bbc3f678"]]),Ot=It;var Dt=[{path:"/",name:"home",component:Ie,beforeEnter:function(){var e=(0,L.A)((0,E.A)().mark((function e(t,n,r){var a,s;return(0,E.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.A.get("http://localhost:8000/home-data");case 3:a=e.sent,t.meta.apiData=a.data,r(),e.next=13;break;case 8:e.prev=8,e.t0=e["catch"](0),s="Error fetching home data",jt(s,e.t0),r();case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{path:"/recommendations",name:"recommendations",component:Xe,beforeEnter:function(){var e=(0,L.A)((0,E.A)().mark((function e(t,n,r){var a,s,o;return(0,E.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.params.user_id||"default_user",e.next=4,A.A.get("http://localhost:8000/recommend/combined/".concat(a));case 4:s=e.sent,t.meta.apiData=s.data,r(),e.next=14;break;case 9:e.prev=9,e.t0=e["catch"](0),o="Error fetching recommendations data for user: ".concat(t.params.user_id),jt(o,e.t0),r();case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{path:"/playlists",name:"song-playlists",component:tt,beforeEnter:function(){var e=(0,L.A)((0,E.A)().mark((function e(t,n,r){var a,s,o;return(0,E.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.params.user_id||"default_user",e.next=4,A.A.get("http://localhost:8000/user/".concat(a,"/generate_playlist/"));case 4:s=e.sent,t.meta.apiData=s.data,r(),e.next=14;break;case 9:e.prev=9,e.t0=e["catch"](0),o="Error fetching playlists data for user: ".concat(t.params.user_id),jt(o,e.t0),r();case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{path:"/search",name:"search",component:vt,beforeEnter:function(){var e=(0,L.A)((0,E.A)().mark((function e(t,n,r){var a,s;return(0,E.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.A.get("http://localhost:8000/search");case 3:a=e.sent,t.meta.apiData=a.data,r(),e.next=13;break;case 8:e.prev=8,e.t0=e["catch"](0),s="Error fetching search data",jt(s,e.t0),r();case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{path:"/chat",name:"user-chat",component:Ot,beforeEnter:function(){var e=(0,L.A)((0,E.A)().mark((function e(t,n,r){var a,s;return(0,E.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.A.get("http://localhost:8000/chat");case 3:a=e.sent,t.meta.apiData=a.data,r(),e.next=13;break;case 8:e.prev=8,e.t0=e["catch"](0),s="Error fetching chat data",jt(s,e.t0),r();case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()}],Ft=(0,S.aE)({history:(0,S.LA)(),routes:Dt});const Xt=Ft;function jt(e,t){A.A.post("http://localhost:0/log/error",{message:e,error:t.message||"No additional error info",stack:t.stack||"No stack trace",timestamp:(new Date).toISOString()})["catch"]((function(e){_.error("Failed to log error:",e)}))}var Nt=n(15326);const Mt={namespaced:!0,state:function(){return{user:null}},mutations:{SET_USER:function(e,t){e.user=t}},actions:{login:function(e,t){var n=e.commit;n("SET_USER",t)},logout:function(e){var t=e.commit;t("SET_USER",null)}},getters:{isLoggedIn:function(e){return!!e.user},getUser:function(e){return e.user}}},Ht={namespaced:!0,state:function(){return{recommendations:[],loading:!1,error:null}},mutations:{SET_RECOMMENDATIONS:function(e,t){e.recommendations=t},SET_LOADING:function(e,t){e.loading=t},SET_ERROR:function(e,t){e.error=t},CLEAR_ERROR:function(e){e.error=null}},actions:{fetchRecommendations:function(e){var t=this;return(0,L.A)((0,E.A)().mark((function n(){var r,a,s;return(0,E.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("SET_LOADING",!0),r("CLEAR_ERROR"),n.prev=3,n.next=6,fetch("http://localhost:8000/recommend/new_releases/");case 6:if(a=n.sent,a.ok){n.next=9;break}throw new Error("Failed to fetch recommendations");case 9:return n.next=11,a.json();case 11:s=n.sent,r("SET_RECOMMENDATIONS",s),n.next=20;break;case 15:n.prev=15,n.t0=n["catch"](3),r("SET_ERROR",n.t0.message),t.$logger.error("Error fetching recommendations:",n.t0),t.logError("Error fetching recommendations",n.t0);case 20:return n.prev=20,r("SET_LOADING",!1),n.finish(20);case 23:case"end":return n.stop()}}),n,null,[[3,15,20,23]])})))()}},getters:{getRecommendations:function(e){return e.recommendations},isLoading:function(e){return e.loading},hasError:function(e){return!!e.error},errorMessage:function(e){return e.error}},methods:{logError:function(e,t){var n=this;fetch("http://localhost:8000/log/error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,error:t.message||"No additional error info",stack:t.stack||"No stack trace",timestamp:(new Date).toISOString()})})["catch"]((function(e){n.$logger.error("Failed to log error:",e)}))}}},$t={namespaced:!0,state:function(){return{playlists:[],loading:!1,error:null}},mutations:{SET_PLAYLISTS:function(e,t){e.playlists=t},ADD_PLAYLIST:function(e,t){e.playlists.push(t)},SET_LOADING:function(e,t){e.loading=t},SET_ERROR:function(e,t){e.error=t},CLEAR_ERROR:function(e){e.error=null}},actions:{fetchPlaylists:function(e){var t=this;return(0,L.A)((0,E.A)().mark((function n(){var r,a,s;return(0,E.A)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("SET_LOADING",!0),r("CLEAR_ERROR"),n.prev=3,n.next=6,fetch("https://localhost:8000/user/playlists");case 6:if(a=n.sent,a.ok){n.next=9;break}throw new Error("Failed to fetch playlists");case 9:return n.next=11,a.json();case 11:s=n.sent,r("SET_PLAYLISTS",s),n.next=19;break;case 15:n.prev=15,n.t0=n["catch"](3),r("SET_ERROR",n.t0.message),t.dispatch("logError",{message:"Error fetching playlists",error:n.t0});case 19:return n.prev=19,r("SET_LOADING",!1),n.finish(19);case 22:case"end":return n.stop()}}),n,null,[[3,15,19,22]])})))()},addPlaylist:function(e,t){var n=this;return(0,L.A)((0,E.A)().mark((function r(){var a,s,o;return(0,E.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,a("CLEAR_ERROR"),r.prev=2,r.next=5,fetch("/api/playlists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})});case 5:if(s=r.sent,s.ok){r.next=8;break}throw new Error("Failed to add playlist");case 8:return r.next=10,s.json();case 10:o=r.sent,a("ADD_PLAYLIST",o),r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](2),a("SET_ERROR",r.t0.message),n.dispatch("logError",{message:"Error adding playlist",error:r.t0});case 18:case"end":return r.stop()}}),r,null,[[2,14]])})))()}},getters:{getPlaylists:function(e){return e.playlists},isLoading:function(e){return e.loading},hasError:function(e){return!!e.error},errorMessage:function(e){return e.error}},methods:{logError:function(e){var t=this,n=e.message,r=e.error;fetch("http://localhost:8000/log/error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n,error:r.message||"No additional error info",stack:r.stack||"No stack trace",timestamp:(new Date).toISOString()})})["catch"]((function(e){t.$logger.error("Failed to log error:",e)}))}}},zt={namespaced:!0,state:function(){return{messages:[],loading:!1,error:null,typing:!1}},mutations:{ADD_MESSAGE:function(e,t){e.messages.push(t)},SET_LOADING:function(e,t){e.loading=t},SET_TYPING:function(e,t){e.typing=t},SET_ERROR:function(e,t){e.error=t},CLEAR_ERROR:function(e){e.error=null},CLEAR_CHAT:function(e){e.messages=[]}},actions:{sendMessage:function(e,t){var n=this;return(0,L.A)((0,E.A)().mark((function r(){var a,s,o,i,c;return(0,E.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.commit,s=t.sender,o=t.text,a("ADD_MESSAGE",{sender:s,text:o,timestamp:new Date}),a("SET_TYPING",!0),r.prev=4,r.next=7,new Promise((function(e){return setTimeout(e,1e3)}));case 7:return r.next=9,fetch("http://localhost:8000/chat/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:o})});case 9:if(i=r.sent,i.ok){r.next=12;break}throw new Error("Failed to get a response from the chat API");case 12:return r.next=14,i.json();case 14:c=r.sent,a("ADD_MESSAGE",{sender:"Lyrical AI",text:c.reply,timestamp:new Date}),r.next=23;break;case 18:r.prev=18,r.t0=r["catch"](4),n.$logger.error("Error during chat:",r.t0),a("SET_ERROR",r.t0.message),n.logError("Error during chat interaction",r.t0);case 23:return r.prev=23,a("SET_TYPING",!1),r.finish(23);case 26:case"end":return r.stop()}}),r,null,[[4,18,23,26]])})))()},clearChat:function(e){var t=e.commit;t("CLEAR_CHAT")}},getters:{getMessages:function(e){return e.messages},isLoading:function(e){return e.loading},isTyping:function(e){return e.typing},hasError:function(e){return!!e.error},errorMessage:function(e){return e.error}},methods:{logError:function(e,t){var n=this;fetch("http://localhost:8000/log/error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,error:t.message||"No additional error info",stack:t.stack||"No stack trace",timestamp:(new Date).toISOString()})})["catch"]((function(e){n.$logger.error("Failed to log error:",e)}))}}};var Ut=(0,Nt.y$)({modules:{user:Mt,recommendations:Ht,playlists:$t,chat:zt}});const Qt=Ut;A.A.defaults.baseURL="http://localhost:8000",A.A.defaults.headers.common["Content-Type"]="application/json";var Gt=(0,r.Ef)(b);Gt.config.globalProperties.$axios=A.A,Gt.use(Xt),Gt.use(Qt),Gt.mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,(()=>{var e=[];n.O=(t,r,a,s)=>{if(!r){var o=1/0;for(u=0;u<e.length;u++){for(var[r,a,s]=e[u],i=!0,c=0;c<r.length;c++)(!1&s||o>=s)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(i=!1,s<o&&(o=s));if(i){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[r,a,s]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,s,[o,i,c]=r,l=0;if(o.some((t=>0!==e[t]))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(c)var u=c(n)}for(t&&t(r);l<o.length;l++)s=o[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[504],(()=>n(71651)));r=n.O(r)})();
//# sourceMappingURL=app.7a13800f.js.map